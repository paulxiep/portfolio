# V5.4 Tree Training Configuration

data:
  # Base path for training data (loads {input}_market.parquet)
  # Uses market-only data: 1 row per tick per symbol with 42 market features
  # Labels computed from future price changes
  input: data/training
  output_dir: models
  test_size: 0.2
  # Agent data ({input}_agents.parquet) available for future behavioral cloning
  # Exclude non-learning agents: MarketMaker, PairsTrading, SectorRotator
  agent_filter: ["MarketMaker", "PairsTrading", "SectorRotator"]

# Label: avg price return rate across horizons
# buy if > buy_threshold, sell if < sell_threshold, else hold
labels:
  horizons: [8, 16, 32, 48, 64]
  # Rolling window size for averaging future prices centered on each horizon
  # e.g., rolling_window: 3 with horizon 8 averages prices at ticks 7, 8, 9
  # Set to 1 for single-tick (original behavior)
  rolling_window: 5
  buy_threshold: 0.01
  sell_threshold: -0.01

# Models grouped by type - each list entry becomes {name}_{type}.json
decision_trees:
  - name: medium
    max_depth: 12

  - name: deep
    max_depth: 16

random_forests:
  - name: small
    n_estimators: 24
    max_depth: 12
    max_features: 0.9

gradient_boosted:
  - name: fast
    n_estimators: 24
    max_depth: 8
    learning_rate: 0.4

  - name: slow
    n_estimators: 36
    max_depth: 10
    learning_rate: 0.25
    subsample: 0.8

shap:
  enabled: false
  max_samples: 1000
